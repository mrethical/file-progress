!function o(r,l,a){function u(t,e){if(!l[t]){if(!r[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(p)return p(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var s=l[t]={exports:{}};r[t][0].call(s.exports,function(e){return u(r[t][1][e]||e)},s,s.exports,o,r,l,a)}return l[t].exports}for(var p="function"==typeof require&&require,e=0;e<a.length;e++)u(a[e]);return u}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});function i(e,t,n,i){var s=new(XMLHttpRequest||ActiveXObject)("MSXML2.XMLHTTP.3.0");s.open(t?"POST":"GET",e,1),s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.onprogress=function(e){e.lengthComputable&&n&&n(e.loaded/e.total*100)},s.onreadystatechange=function(){3<s.readyState&&i&&i(s.responseText,s)},s.send(t)}n.default=i},{}],2:[function(e,t,n){"use strict";var i,s=e("./index"),o=(i=s)&&i.__esModule?i:{default:i};window.FileProgress=o.default},{"./index":3}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=o(e("./template")),s=o(e("./ajax"));function o(e){return e&&e.__esModule?e:{default:e}}var r=(l.prototype._isAjax=function(){return 0<this._options.url.length},l.prototype._isUploading=function(){return 0!==this._progressCount},l.prototype._setFiles=function(e){var t=this;if(this._el.classList.add("file-progress--has-file"),e&&0!==e.length){var n=e[0];if(this._label.innerHTML=this._options.label(n),this._options.upload)this._options.upload(n,this);else if(this._isAjax()){var i=new FormData;i.append(this._el.getAttribute("name"),e[0]),new s.default(this._options.url,i,function(e){t.progress(e)},function(){t.progress(100)})}else this._bar.style.right="0"}else this._clearButton.click()},l.prototype.progress=function(e){this._progressCount=e,this._bar.style.right=100-e+"%",100===e&&(this._progressCount=0),this._isUploading()?this._el.classList.add("file-progress--uploading"):this._el.classList.remove("file-progress--uploading")},l.prototype.prefill=function(e){this._el.classList.add("file-progress--has-file"),this._bar.style.right="0",this._label.innerHTML=e},l.prototype.open=function(){this._fileInput.click()},l.prototype.set=function(e){this._fileInput.files=e,this._setFiles(e)},l);function l(e,t){var n=this;void 0===t&&(t={url:"",upload:null,label:null,onRemove:null}),this._chooseFileLabel="Choose File ...",this._progressCount=0,this._fileInput="string"==typeof e?document.getElementById(e):e,this._options={url:t.url||"",upload:t.upload||null,label:t.label||function(e){return void 0===e?n._chooseFileLabel:e.name},onRemove:t.onRemove||null},this._el=(0,i.default)(),this._fileInput.parentNode.insertBefore(this._el,this._fileInput.nextSibling),this._fileInput.style.display="none",this._bar=this._el.querySelector("div"),this._label=this._el.querySelector("span"),this._label.innerHTML=this._options.label(),this._clearButton=this._el.querySelector("button"),this._label.addEventListener("click",function(e){n._isUploading()||e.target!==n._label||n._fileInput.click()}),this._fileInput.addEventListener("change",function(e){n._setFiles(e.target.files)}),this._clearButton.addEventListener("click",function(){n._isUploading()||(n._fileInput.value="",n._el.classList.remove("file-progress--has-file"),n._label.innerHTML=n._options.label(),n._isAjax()||(n._bar.style.right=""),n._options.onRemove&&n._options.onRemove())})}n.default=r},{"./ajax":1,"./template":4}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=!(n.default=function(){if(!i){var e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");e.appendChild(t),t.appendChild(document.createTextNode(s)),i=!0}var n=document.createElement("div");return n.className=o,n.innerHTML=r,n}),s="\n  .file-progress {\n    width: 100%;\n    height: 40px;\n    position: relative;\n    display: flex;\n    background-color: #f5f6fa;\n    cursor: pointer;\n    padding: 0 8px 0 16px\n  }\n\n  .file-progress:hover {\n    background-color: #e3e4e8;\n  }\n\n  .file-progress__bar {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 100%;\n    background-color: #d6ffe4;\n    transition: right 1s ease-in-out;\n  }\n\n  .file-progress__name {\n    flex: 1;\n    margin: auto;\n    z-index: 1;\n  }\n\n  .file-progress__button {\n    display: none;\n    background: none;\n    border: none;\n    cursor: pointer;\n    outline: none;\n    z-index: 1;\n  }\n\n  .file-progress.file-progress--has-file .file-progress__button {\n    display: block;\n  }\n",o="file-progress",r='\n  <div class="file-progress__bar"></div>\n  <span class="file-progress__name"></span>\n  <button type="button" class="file-progress__button"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path d="M23 20.168l-8.185-8.187 8.185-8.174-2.832-2.807-8.182 8.179-8.176-8.179-2.81 2.81 8.186 8.196-8.186 8.184 2.81 2.81 8.203-8.192 8.18 8.192z"/></svg></button>\n'},{}]},{},[2]);